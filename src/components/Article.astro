---
import type { Article } from "../../utils/types";
import { WebMentions } from "./WebMentions";

type Props = Article;

const { publishDate, title, url }: Props = Astro.props;

const webmentionsUrl = `https://webmention.io/api/count?target=https://adamrecvlohe.com${url}`;
---

<style>
  .link-wrapper {
    padding-bottom: 20px;
  }
</style>

<main>
  <article>
    <div class="link-wrapper">
      <a
        rel="noopener noreferrer"
        href={`/${url?.includes("posts") ? "posts" : "tutorials"}`}>Back</a
      >
    </div>
    <p>{publishDate}</p>
    <WebMentions url={webmentionsUrl} client:load />
    <h1>{title}</h1>
    <slot />
  </article>
</main>
